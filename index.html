<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Market Volatility</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="range-slider-master/css/rSlider.min.css">
</head>

<body>

    <h1>Market Volatility</h1>

    <p class="introPara">Investing in the stock market through low-cost index funds (or ETFs) is widely accepted as a tried-and-true way to build wealth. It's the path I've chosen with my own money, and I recommend it wholeheartedly to you as well.</p>
    <p class="introPara">That being said, with the <em>reward</em> comes the <em>risk</em>. Stock market returns are in a near constant state of zigging and zagging, and future market returns are extremely uncertain -- even in the long-term.</p>
    <p class="introPara">To help you make plans in the midst of this uncertainty, you'll find an interactive tool below that plots out how your net worth might evolve in the future based on historical sequences of returns from U.S. stock market history.</p>
    <p class="introPara">This tool uses a dataset of U.S. stock market returns covering the period of 1872 to 2018. Specifically, these returns are from the S&P composite index from 1872 to 1957, and the S&P 500 index onwards until 2018.</p>
    <p class="introPara">The length of this dataset allows us to see how our portfolios would be impacted if key events from stock market history repeat themselves -- whether it's the great depression, dotcom bubble, or the financial crisis of 2008.</p>
    <p class="introPara">In short: if we rely on the history of the U.S. stock market as a guide, how might our investments perform in the future?</p>
    <p class="italicPara">Note: all dollar figures are shown on a "real dollar" basis (i.e., adjusted for inflation), and all market returns are shown on a "real total return" basis (i.e., adjusted for inflation and the re-investment of dividends).</p>

    &nbsp;

    <h2>An Illustrative Example</h2>
    <p class="introPara">To give a sense for how this tool works, let's look at the case of Dwight and Ryan -- colleagues and frenemies at your neighbourhood paper peddler.</p>
    <ul>
        <li>The year is 1999, Dwight has finished university a few years ago (a triple concentration in Beets, Bears, and Battlestar Galactica), and he's ready to start investing</li>
        <li>Dwight has $5,000 to invest today, and plans to contribute an additional $3,000 to his portfolio each year</li>
        <li>Now introducing Ryan: he's a little younger than Dwight, so Ryan starts to invest in 2009 (instead of 1999 for Dwight)</li>
        <li>Ryan has the same financial capacity as Dwight, with $5,000 to invest at the start, and a plan to add an additional $3,000 per year afterwards</li>
    </ul>

    <img src="https://themeasureofaplan.com/wp-content/uploads/2019/10/RyanDwightPhoto.jpg" alt="Dwight and Ryan photo">

    <p class="introPara">Let's see how Dwight and Ryan fared in the first 10 years of their investing careers.</p>

    &nbsp;

    <img src="https://themeasureofaplan.com/wp-content/uploads/2019/10/DwightRyanAnnualReturns.png" alt="Dwight and Ryan annual returns">

    &nbsp;
    <p class="introPara">Dwight went through some pretty tough years, including the dotcom bubble bursting in 2000, and the great financial crisis of 2008.</p>
    <p class="introPara">In comparison, Ryan was lucky that his investing efforts began immediately after the market crash in 2008, meaning that he was able to put his money to work when stock prices were low, and a bull market was about to begin.</p>
    <p class="introPara">And now, let's see how they fare on a dollar value basis. Note that Dwight and Ryan each contribute $35,000 to their savings over this 10-year time period.</p>

    &nbsp;

    <img src="https://themeasureofaplan.com/wp-content/uploads/2019/10/DwightRyanPortfolioValueChart.png" alt="Dwight and Ryan portfolio value over time">

    <p class="introPara"></p>Both Dwight and Ryan had $5,000 at the start, but their paths diverged fairly quickly. By the end of 10 years, Dwight had $25,767 to show for his efforts, while Ryan had a whopping $59,576.</p>
    <p class="introPara"></p>Over this time period, Dwight made an average return of -6% per year, while Ryan earned +9.6% per year.</p>
    <p class="introPara"></p>It's important to note that both of Dwight and Ryan followed the exact same recipe: they put $5,000 into the market at the start, added $3,000 to their portfolios each year, invested in a diversified index tracking the U.S. stock market (S&P 500), and held on for a 10-year period.</p>
    <p class="introPara"></p>However, at the end of a decade, Ryan emerges with a net worth that is 2.3 times higher than Dwight!</p>
    <p class="introPara"></p>On one hand, this seems deeply unfair. Ryan didn't do anything different than Dwight. He just lucked out that he started investing in 2009 instead of 1999 (even still, Ryan will smugly claim that he's an MBA-educated stock market whiz).</p>
    <p class="introPara"></p>On the other hand, it is what it is. Stock market returns are incredibly volatile, even if you have a long time horizon (10+ years).</p>

    &nbsp;

    <p class="introPara">Now let's back up a bit. In the illustrative example of Dwight and Ryan, we saw how an investment in the stock market for 10 years fared during the periods of 1999-2008 and 2009-2018.</p>
    <p class="introPara">But what would the final answers be if we used stock market returns from the 1980s or 1970s instead?</p>
    <p class="introPara">Better yet, what would the answers be if we could analyze ALL of the 10-year sequences in stock market history... 1872 to 1881, 1873 to 1882, 1874 to 1883 ... yada yada yada ... and cycling through all the way up to 2009 to 2018.</p>
    <p class="introPara">The tool below is designed to do just that, allowing you to see how stock market volatility could impact your portfolio. Let's jump in.</p>

    &nbsp;

    <h2>Visualizing Market Volatility: An Interactive Tool</h2>

    <div id="loadingImageDiv">
        <img src="https://themeasureofaplan.com/wp-content/uploads/2019/10/copper-loader.gif" alt="Loading animation -- need inputs">
        <p id="loadingPara">Please enter your assumptions below...</p>
        
        &nbsp;
    </div>


    <div id="inputDiv">
        <table id="inputTable">
            <tr>
                <td><span id="initialContributionSpan">Initial Contribution</span></td>
                <td class="middleCol">$</td>
                <td><input type="number" id="initialContributionInput" class="userInput input-number–noSpinners" step=0.01 min=0 placeholder="5000"></td>
            </tr>

            <tr>
                <td><span id="annualContributionSpan">Annual Contribution</span></td>
                <td class="middleCol">$</td>
                <td><input type="number" id="annualContributionInput" class="userInput input-number–noSpinners" step=0.01 min=0 placeholder="3000"></td>
            </tr>

            <tr>
                <td><span id="timePeriodSpan">Time Period</span></td>
                <td class="middleCol">Years</td>
                <td><input type="number" id="timePeriodInput" class="userInput input-number–noSpinners" step=1 min=1 max=80 placeholder="10"></td>
            </tr>
        </table>
    </div>

    &nbsp;
    <button onclick="toggleAdvancedOptions()" id="advancedOptionsButton">+ Advanced Options</button>

    <div id="yearRangeSliderDiv">
        <p class="sliderPara">This tool uses a dataset of U.S. stock market returns that stretches from 1872 to 2018 (147 years of returns!).</p>
        <p class="sliderPara">By default, the tool will calculate historical sequences of returns using this entire dataset.</p>
        <p class="sliderPara">However, you can use the slider bar below to narrow in on a specific period of returns (e.g., 1970 to 2018).</p>
        &nbsp;
        &nbsp;
        <input type="text" id="yearRangeSlider"/>
    </div>


    <div id="masterOutputContainerDiv" class="hide">

        <div id="portfolioSequenceChartDiv" tabindex="0">
            <canvas id="portfolioSequenceChart"></canvas>
        </div>

        <p id="chartNotePara"></p>

        <div id="focusYearInputDiv" class="hide">
            <table id="focusYearInputTable">
                <tr>
                    <td>Focus Year</td>
                    <td><select id="focusYearInput" class="userInput2"></select></td>
                </tr>
            </table>
        </div>

        &nbsp;


        <div class="outputTextContainerDiv">
            <div id="outputTextDiv">
                <p id="outputPara1"></p>
            </div>
        </div>

        <div class="outputTextContainerDiv">
            <div id="outputTextDiv2">
                <p id="outputPara2"></p>
            </div>
        </div>

        <div class="outputTextContainerDiv">
            <div id="outputTextDiv3">
                <p id="outputPara3"></p>
                <p id="outputPara4"></p>
            </div>
        </div>
        
        &nbsp;

        <div id="focusYearDistributionChartDiv" tabindex="0">
            <canvas id="focusYearDistributionChart"></canvas>
        </div>

        <div id="focusYearIRRDistributionChartDiv" tabindex="0">
            <canvas id="focusYearIRRDistributionChart"></canvas>
        </div>

        &nbsp;

        <div id="focusYearStatsDiv">

            <table id="focusYearStatsTable">
                <col width="100px">
                <col width="150px">
                <col width="150px">
                <tr>
                    <th colspan=3>Summary Stats</th>
                </tr>

                <tr>
                    <th></th>
                    <th>$</th>
                    <th>Avg.<br>Annual Return</th>
                </tr>
                
                <tr>
                    <td>Min</td>
                    <td id="minCell"></td>
                    <td id="minIRRCell"></td>
                </tr>

                <tr>
                    <td>Median</td>
                    <td id="medianCell"></td>
                    <td id="medianIRRCell"></td>
                </tr>

                <tr>
                    <td>Average</td>
                    <td id="averageCell"></td>
                    <td id="averageIRRCell"></td>
                </tr>

                <tr>
                    <td>Max</td>
                    <td id="maxCell"></td>
                    <td id="maxIRRCell"></td>
                </tr>
            </table>

            &nbsp;

            <table id="focusYearStatsTable2">
                <col width="100px">
                <col width="150px">
                <col width="150px">
                <tr>
                    <th colspan=3>Percentile Stats</th>
                </tr>

                <tr>
                    <th></th>
                    <th>$</th>
                    <th>Avg.<br>Annual Return</th>
                </tr>
                
                <tr>
                    <td>10th</td>
                    <td id="pct10Cell"></td>
                    <td id="pct10IRRCell"></td>
                </tr>
                
                <tr>
                    <td>25th</td>
                    <td id="pct25Cell"></td>
                    <td id="pct25IRRCell"></td>
                </tr>
                
                <tr>
                    <td>50th</td>
                    <td id="pct50Cell"></td>
                    <td id="pct50IRRCell"></td>
                </tr>
                
                <tr>
                    <td>75th</td>
                    <td id="pct75Cell"></td>
                    <td id="pct75IRRCell"></td>
                </tr>
                
                <tr>
                    <td>90th</td>
                    <td id="pct90Cell"></td>
                    <td id="pct90IRRCell"></td>
                </tr>
                <tr>
                    <td><input type="number" id="customPercentileInput" class="userInput3 input-number–noSpinners" step=1 min=1 max=100></td>
                    <td id="customPercentileCell"></td>
                    <td id="customPercentileIRRCell"></td>
                </tr>
            </table>
        </div>

        <p id="customPercentileNote">Note: you can use the input cell above to display the portfolio $ value and % return metrics for any percentile rank (between 0 and 100).</p>

        &nbsp;
        
        <div id="outputTableDiv">

            <h2>Detailed Data Tables</h2>

            <p class="tablePara">The table below shows the answers -- final portfolio value and average annual return -- for each and every one of the sequences. This allows you to pinpoint specific time periods in market history.</p>
            <p class="tablePara">You can sort the table by "time" (going from the oldest sequences up to the present day) or by "value" (going from the sequences with the lowest returns up to the sequences with the highest returns).</p>

            &nbsp;

            <div id="tableSortDiv">
                <span id="tableSortSpan">Sort the table by...<br></span>
                <div class="radio-toolbar">
                    <input type="radio" class="userInput4" id="timeSort" name="sortType" value="timeSort" checked="checked"><label class="radioLabel" for="timeSort">Time (oldest to newest)</label><br>
                    <input type="radio" class="userInput4" id="valueSort" name="sortType" value="valueSort"><label class="radioLabel" for="valueSort">Value (lowest to highest)</label>
                </div>
            </div>

            &nbsp;


            <table id="outputTable">
                <tr>
                    <th>Sequence</th>
                    <th>Final Portfolio Value</th>
                    <th>Avg. Annual Return</th>
                </tr>
            </table>
        </div>

    </div>

    &nbsp;

    <h2>So What's The Point?</h2>
    <p class="introPara">In building this tool, I had two main points that I wanted to illustrate.</p>
    &nbsp;

    <p class="introPara"><b>Point #1: the stock market doesn't grow at a constant rate of return.</b></p>
    <p class="introPara">Whether it's from a personal finance book, blog, or robo-advisor site, I'd wager that you've heard a story along the lines of this...</p>
    <div class="highlightQuote"><p class="introPara">If you invest regularly, earn an investment return of 7% investment per year, and wait patiently for a few decades, your net worth starts to go bonkers. Hundreds turn to thousands, tens of thousands, hundreds of thousands, and perhaps even millions.</p></div>
    <p class="introPara">This is typically accompanied by a chart that plots your net worth over time. You'll see that the line grows up and to the right, in a smooth exponential growth curve. I'm guilty of this myself -- see my take on this chart...</p>
    <img src="https://themeasureofaplan.com/wp-content/uploads/2018/08/Net-worth-over-time.png" alt="Simplified net worth over time chart">
    &nbsp;
    <p class="introPara">This story is simple, clearly illustrates the power of compound interest, and is a great way to get people excited about starting to invest.</p>
    <p class="introPara"><em>However</em>, the more nuanced and complex reality is that the stock market doesn't grow at a fixed percentage rate, and that negative returns are a regular occurence.</p>
    <p class="introPara">The market can decline by 5%, 20%, or 37% (in the case of 2008) in a single year! There's no guarantee that market prices will go up even when you look at 5 or 10-year periods.</p>
    <p class="introPara">If you're expecting to get the smooth exponential growth curve, you're setting yourself up for stress and disappointment.</p>
    <p class="introPara">You're also setting yourself up to take actions that will hamper your long-term returns. For example, doing things like putting your regular contributions on pause when the market gets rocky, hoarding cash so that you can "buy in after the market crashes", and selling your investments because the pundits of the day are calling for a recession.</p>
    <p class="introPara">By acquainting yourself with the range of possible outcomes that can occur when you invest in the stock market, you'll be more likely to stay the course in times of volatility.</p>
    <p class="introPara">It also bears mentioning that you can reduce the volatility of your investments by <a href="https://themeasureofaplan.com/a-blueprint-for-building-wealth/" rel="noopener" target="_blank">allocating a portion of your portfolio towards bond investments</a>. By investing in bonds, you reduce the risk of suffering large losses in your portfolio, with the trade-off being that you also somewhat reduce the maximum upside potential of your portfolio.</p>

    &nbsp;
    
    <p class="introPara"><b>Point #2: in the face of uncertainty, it's wise to plan for a range of possible outcomes in the future.</b></p>
    <p class="introPara">No one knows how the stock market will perform in the next 10 days, months, or years.</p>
    <p class="introPara">In a very fuzzy and general sense, we know that the stock market tends to go up over long periods of time (>10 years).</p>
    <p class="introPara">However, this tool shows that the range of possible outcomes is extremely wide, even if you stretch out your time horizon to 20 years or more.</p>
    <p class="introPara">As a result, it's prudent to design your financial plans based on a range of possibilities, instead of using one fixed assumption (e.g., market returns of 7% per year).</p>
    <p class="introPara">For example, how does your plan change if the market 'only' grows at 6% per year. How do the answers change if you assume 5%, 4%, or 3%?</p>
    <p class="introPara">One practical way to implement this would be to design your plans around a "base case" scenario, a "downside case", and a "worst case".</p>
    <p class="introPara">If you think about the future as a set of potential outcomes instead of a single fixed frame, you'll be more prepared to deal with adversity when it comes about.</p>
    
    &nbsp;

    <h2>Notes and Final Thoughts</h2>
    <p>Your regular annual contributions are assumed to be made at the end of the year.</p>
    <p>The figures for 'return per year' represent the annualized IRR of your portfolio.</p>
    <p>This tool uses historical data from the U.S. stock market, with a period ranging from 1872 to 2018. In this case, the "U.S. stock market" refers to the S&P composite index from 1872 to 1957, and the S&P 500 index from 1957 and onwards.</p>
    <p>The S&P composite returns have been meticulously collected and made available by <a href="http://www.econ.yale.edu/~shiller/data.htm" target="_blank" rel="noopener">Professor Robert Shiller</a>. The S&P 500 data was pulled from Yahoo Finance.</p>
    <p>All of the returns are presented on a "real total return" basis, meaning that they are adjusted for inflation (i.e., real returns), and also adjusted for the re-investment of dividends received (i.e., total returns).</p>
    <p>If you're hungry for more charts and analysis, I've written a seperate article covering the <a href="https://themeasureofaplan.com/us-stock-market-returns-1870s-to-present/" rel="noopener" target="_blank">history of the U.S. stock market</a>.</p>

    &nbsp;
    <p class="italicPara">--</p>
    <p class="italicPara">Header image credit: <a href="https://mariahergueta.com/Punch-Magazine-5" rel="noopener" target="_blank">Maria Hergueta</a></p>
    <p class="italicPara">Loading animation credit: <a href="https://dribbble.com/shots/2436386-Copper-Loader" target="_blank" rel="noopener">Jarod Erondu and Jeremy Goldberg</a></p>

    &nbsp;

</body>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.7.3/dist/Chart.min.js"></script>
<script src="range-slider-master/js/rSlider.min.js"></script>
<script src="marketVolatilityScript.js"></script>

</html>